configurations.all{
    resolutionStrategy{
        failOnVersionConflict()
    }
}


allprojects {
    apply plugin: 'java'
    sourceCompatibility = 1.8
    repositories {
        maven{ url 'http://maven.aliyun.com/nexus/content/groups/public'}
        mavenCentral()
        //mavenLocal()
    }
}

subprojects {
    dependencies {
        compileOnly group:'org.projectlombok', name:'lombok',version:'1.18.8'
        testCompile group: 'junit', name: 'junit', version: '4.12'
    }
}



def createDir = {
    path ->
        File dir = new File(path) ;
        if(!dir.exists()){
            dir.mkdirs()
        }
}

task makeJavaDir(){
    def paths = ['src/main/java','src/main/resources','src/test/java','src/test/resources']
    doFirst {
        paths.forEach(createDir)
    }
}







